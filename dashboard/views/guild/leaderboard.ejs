<%- include ("../parts/sidebarguild.ejs",{bot,user})%>
  
  <br>
  <br>
  <style>
    
    .section {
      
background: var(--nav-color);
      padding-top:10px;
    }
     
    
    .section .line{
    border:1px solid black;
      
display:flex;
align-items: center;
height:55px;

background:var(--contact-form);
border-radius:10px;
width:100%;
/*text-align:left;  */
    }
    .section .line  .name{
  
font-size:14px;


    }

    
    .section .line .xp{
margin-right:3px;
      font-size:18px;
      
      width:100%;
text-align: right;

      
      

        }
.section  .line .rank{
  padding-right:10px;
  margin-left:5px;
  font-size:18px;

}
.section .line .level{
  font-size:18px;
width:100%;
  padding-left:10px;
  text-align: center;

}
  </style>                        
  
  
  <div class="container ">
    <div class="row">
      <div class="head">
<h3 style="color:var(--text-color)"  >Leaderboard</h3>
        <p  style="color:orange">(top 10)</p>
      </div>
      <hr/>
<%
docs.slice(0,10).map((u,i) => {
 
  const rank = String(i+1)%>
<div class="section">
 
<div class="line">
  <span class="rank"><%=rank%></span>
  <img loading="lazy" onerror="imgError(e);"src="<%=members.get(u.id)?.displayAvatarURL()%>" width="50px" height="50px" style="border-radius:50%;">
<span class="name"><%= members.get(u.id)?.user.tag || 'Unknown'%></span>  

  <div class="level">

    
      <span ><%= u.data.level%><sub class="text-muted">level</sub></span>
    
  </div>
  <div class="xp">
    
<span ><%=  u.data.xp.toLocaleString()%><sub class="text-muted" >xp</sub></span>
  </div>
  </div>
  
</div>
    <% })%>

<%  docs.filter(x => x.id === req.user).map((u,i,a) => {
            const user = a.find(x => x.id === req.user.id);
            
            const rank = docs.findIndex(x => x.id === req.user.id) + 1;%>
<div class="rank">
  <span><%= rank%>
  </span>
</div>
  <% })%>
      
    </div>
    </div>
    
  
  
  
  
  
  
  
  
  <br>
                  <br>
                  <br>
  
  
  <%- include ("../parts/foot.ejs")%>